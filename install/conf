#/etc/supervisor/conf.d/kafka.conf
[program:kafka]
command=/opt/kafka/bin/kafka-server-start.sh /opt/kafka/config/server.properties
directory=/opt/kafka
user=kafka
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/kafka.log
stderr_logfile=/var/log/supervisor/kafka.err
stopasgroup=true

[program:pusher]
command=java  -cp "/opt/kafka/libs/*:."  Pusher
directory=/opt/kafka/class
user=kafka
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/pusher.log
stderr_logfile=/var/log/supervisor/pusher.err
stopasgroup=true

[program:writer]
command=java  -cp "/opt/kafka/libs/*:."  writer
directory=/opt/kafka/class
user=kafka
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/writer.log
stderr_logfile=/var/log/supervisor/writer.err
stopasgroup=true

# Don't need this one
#/etc/supervisor/conf.d/zkeeper.conf
[program:zkeeper]
command=/opt/kafka/bin/zookeeper-server-start.sh /opt/kafka/config/zookeeper.properties
directory=/opt/kafka
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/zkeeper.log
stderr_logfile=/var/log/supervisor/zkeeper.err
stopasgroup=true
